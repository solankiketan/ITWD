<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q9</title>
</head>
<body>
    <div>
        <select id="select">
            <option value="string" selected>Reverse String</option>
            <option value="number">Reverse Number</option>
        </select>
        <input type="text" placeholder="">
        <p id="res"></p>
    </div>

    <script>
        let input = document.querySelector('input');
        let select = document.querySelector('select');
        let res = document.querySelector('#res');
        let task = select.value;

        select.addEventListener("change", (e)=>{
            task = e.target.value;
        })

        function revStr(str){
            let rev = '';
            let i = str.length -1;
            while(i >= 0){
                rev += str[i];
                i--;
            }
            return {
                rev,
                isPalin: str == rev 
            };
        }   

        function revNumber(num){
            let rev = 0, rem;
            let isneg = false;
            num = Number(num)
            let cpy = num;
            if(num < 0){
                isneg = true;
                num = Math.abs(num);
            }
            while(num > 0){
                rem = num % 10;
                rev = rev * 10 + rem;
                num = Math.floor(num/10);
            }
            return {
                rev: isneg ? 0 - rev : rev,
                isPalin: rev = cpy
            }
        }

        input.addEventListener('keyup', (e)=>{
            let result;
            if(task == "string"){
                result = revStr(e.target.value);
            }else{
                result = revNumber(e.target.value);
                console.log(result)
            }
            res.innerHTML = `
                Reversed number is ${result.rev}<br>
                ${e.target.value} is ${result.isPalin ? "palindrome" : "not palindrome"}
            `
        })
    </script>
</body>
</html>